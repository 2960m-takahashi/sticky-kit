/*
 WTFPL | Leaf Corcoran 2013 | http://leafo.net
*/
(function(){var c,t;c=this.jQuery;t=c(window);c.fn.stick_in_parent=function(e,g){var x,u,p,y,f,z;null==g&&(g={});c.isPlainObject(e)&&(g=e,e=void 0);p=g.sticky_class;u=g.inner_scrolling;null==u&&(u=!0);null==p&&(p="is_stuck");y=function(b,g,q,f,h){var m,r,n,v,a,d,w,s;d=b.parent();null!=e&&(d=d.closest(e));w=function(){var a,l;a=parseInt(d.css("border-top-width"),10);l=parseInt(d.css("padding-top"),10);g=parseInt(d.css("padding-bottom"));q=d.offset().top+a+l;f=d.height();return h=b.outerHeight(!0)};
w();if(h!==f)return d.on("sticky_kit:recalc",w),n=b.css("float"),s=c("<div />").css({width:b.outerWidth(!0),height:h,display:b.css("display"),"float":n}),m=r=!1,v=void 0,a=0,t.on("scroll",function(k){var l,c,e;k=t.scrollTop();null!=v&&(l=k-v);v=k;r?(c=k+h+a>f+q,m&&!c&&(m=!1,b.css({position:"fixed",bottom:"",top:0}).trigger("sticky_kit:unbottom")),k<q&&(r=!1,a=0,"left"!==n&&"right"!==n||b.insertAfter(s),s.detach(),b.css({position:""}).removeClass(p).trigger("sticky_kit:unstick")),u&&(e=t.height(),
h>e&&!m&&(a-=l,a=Math.max(e-h,a),a=Math.min(0,a),b.css({top:a+"px"})))):k>q&&(r=!0,l={position:"fixed",top:a},b.css(l).addClass(p).after(s),"left"!==n&&"right"!==n||s.append(b),b.trigger("sticky_kit:stick"));if(r&&(null==c&&(c=k+h+a>f+q),!m&&c))return m=!0,"static"===d.css("position")&&d.css({position:"relative"}),b.css({position:"absolute",bottom:g,top:""}).trigger("sticky_kit:bottom")})};f=0;for(z=this.length;f<z;f++)x=this[f],y(c(x));return this}}).call(this);
