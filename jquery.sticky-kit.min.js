/*
 WTFPL | Leaf Corcoran 2013 | http://leafo.net
*/
(function(){var e,q;e=this.jQuery||this.Zepto;q=e(window);e.fn.stick_in_parent=function(v){var l,d,a,u;d=function(b){var a,h,m,k,g,r,c,l,d,f,s,n,p;f=b.parent(v);a=parseInt(f.css("border-top-width"),10);d=parseInt(f.css("padding-top"),10);l=parseInt(f.css("padding-bottom"));n=f.offset().top+a+d;s=f.height();g=b.outerHeight(!0);if(g!==s)return k=b.css("float"),p=e("<div />").css({width:b.outerWidth(!0),height:g,display:b.css("display"),"float":k}),h=m=!1,r=void 0,c=0,q.on("scroll",function(a){var e,
d,t;a=q.scrollTop();null!=r&&(e=a-r);r=a;m?(d=a+g+c>s+n,h&&!d&&(h=!1,b.css({position:"fixed",bottom:"",top:0}).trigger("sticky_kit:unbottom")),a<n&&(m=!1,c=0,"left"!==k&&"right"!==k||b.insertAfter(p),p.detach(),b.css({position:""}).removeClass("is_stuck").trigger("sticky_kit:unstick")),t=q.height(),g>t&&!h&&(c-=e,c=Math.max(t-g,c),c=Math.min(0,c),b.css({top:c+"px"}))):a>n&&(m=!0,e={position:"fixed",top:c},b.css(e).addClass("is_stuck").after(p),"left"!==k&&"right"!==k||p.append(b),b.trigger("sticky_kit:stick"));
if(m&&(null==d&&(d=a+g+c>s+n),!h&&d))return h=!0,"static"===f.css("position")&&f.css({position:"relative"}),b.css({position:"absolute",bottom:l,top:""}).trigger("sticky_kit:bottom")})};a=0;for(u=this.length;a<u;a++)l=this[a],d(e(l));return this}}).call(this);
